{"version":3,"sources":["../../src/index.js","StateManagement/middlewares/logger.js","StateManagement/count.js","StateManagement/asyncCount.js","StateManagement/States.js","Text.js","Number.js","CountAsync.js","App.js","index.js"],"names":["DiffuseContext","React","createContext","wire","fuseName","Child","props","context","useContext","fuses","memoConstraint","i","length","push","store","useMemo","Reduce","reducer","initialState","middleware","asyncReducer","actions","asyncActions","useReducer","state","action","dispatch","onLoading","dispatchWithMiddleWare","type","onSuccess","payload","onFail","onProgress","afterWare","forEach","newAction","undefined","beforeWare","Object","keys","includes","_asyncReducer","enhancedAsyncDispatch","newStore","res","enhancedDispatch","actionKeys","asyncActionKeys","actionDispatch","map","a","actionsDispatch","createReducer","diffuse","loading","error","actionsDict","LOADING","SUCCESS","PROGRESS","FAIL","asyncActionsDict","initialize","name","addAction","actionName","job","removeAction","getActions","key","reducers","children","mergedReducers","globalState","r","MergeReducers","values","Provider","value","console","log","item","INCREMENT","DECREMENT","logger","GET_COUNT","axios","get","then","Promise","resolve","setTimeout","message","AReducer","randomColor","color","Math","floor","random","Text2","useState","setState","style","backgroundColor","onClick","e","stopPropagation","preventDefault","BReducer","test","AsyncReducer","App","Reducer","count","asyncCount","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9b2f1192.chunk.js","sourcesContent":["/************************************************\r\n * React Diffuse\r\n * @description Global state management solution\r\n * @copyright 2022 RAPMINTS, LLC. All rights reserved.\r\n * @author Kyle Watkins, Paul Scala\r\n * @example https://codesandbox.io/s/wispy-leaf-iyp9k6\r\n ************************************************/\r\nimport React, { useContext, useMemo } from 'react'\r\n\r\n// Create diffuse context\r\nconst DiffuseContext = React.createContext()\r\n\r\n/**\r\n * Wires component to a specified fuse\r\n * @param {object} properties\r\n * @param {string} properties.fuseName Fuse to reference\r\n * @param {Component} properties.component Component to reference\r\n * @returns Wired component\r\n */\r\nconst wire =\r\n  ({ fuseName = [], Child }) =>\r\n  (props) => {\r\n    // Use diffusion context\r\n    const context = useContext(DiffuseContext)\r\n    const fuses = {}\r\n    const memoConstraint = []\r\n    for (let i = 0; i < fuseName.length; i++) {\r\n      fuses[fuseName[i]] = context[fuseName[i]]\r\n      memoConstraint.push(context[fuseName[i]].store)\r\n    }\r\n\r\n    // Set up memoization\r\n    return useMemo(\r\n      () => <Child {...fuses} {...props} />,\r\n      [props, ...memoConstraint]\r\n    )\r\n  }\r\n\r\n/**\r\n * Reduce\r\n * @param {object} reducer Reducer\r\n * @param {object} initialState Initial state\r\n * @param {object} actions Actions\r\n */\r\nconst Reduce = ({\r\n  reducer,\r\n  initialState,\r\n  middleware,\r\n  asyncReducer = null,\r\n  actions,\r\n  asyncActions\r\n}) => {\r\n  // Create initial dispatch\r\n  const [state, dispatch] = React.useReducer(\r\n    (state, action) => action.store,\r\n    initialState\r\n  )\r\n\r\n  // Create enhanced dispatch\r\n  const enhancedDispatch = (newAction) => {\r\n    const res = reducer(newAction.store, newAction)\r\n    if (newAction.store !== res) {\r\n      newAction.store = res\r\n    }\r\n\r\n    dispatch(newAction)\r\n    return res\r\n  }\r\n\r\n  // Create enhanced async dispatch\r\n  const enhancedAsyncDispatch = async (newAction) => {\r\n    return (\r\n      await asyncReducer(newAction, onSuccess, onFail, onProgress, onLoading)\r\n    ).store\r\n  }\r\n\r\n  // Initialize Default Loading Function\r\n  const onLoading = () => {\r\n    return dispatchWithMiddleWare({ type: 'LOADING' })\r\n  }\r\n\r\n  // Initialize Default Success Function\r\n  const onSuccess = (payload) => {\r\n    return dispatchWithMiddleWare({ type: 'SUCCESS', payload })\r\n  }\r\n\r\n  // Initialize Default Fail Function\r\n  const onFail = (payload) => {\r\n    return dispatchWithMiddleWare({ type: 'FAIL', payload })\r\n  }\r\n\r\n  // Initialize Default Progress functions\r\n  const onProgress = (payload) => {\r\n    return dispatchWithMiddleWare({ type: 'PROGRESS', payload })\r\n  }\r\n\r\n  // Dispatch with middleware\r\n  const dispatchWithMiddleWare = async (action) => {\r\n    // Set new action from action passed through dispatch\r\n    let newAction = action\r\n\r\n    // If store is not defined in action set it\r\n    if (newAction.store === undefined) {\r\n      newAction.store = state\r\n    }\r\n\r\n    // If before ware is available run it\r\n    if (middleware && middleware.beforeWare) {\r\n      middleware.beforeWare.forEach((beforeWare) => {\r\n        beforeWare(newAction)\r\n      })\r\n    }\r\n\r\n    // Async actions are available and the current action is async\r\n    if (\r\n      asyncReducer !== null &&\r\n      Object.keys(asyncActions).includes(newAction.type)\r\n    ) {\r\n      // Get new store from dispatch\r\n      const newStore = await enhancedAsyncDispatch(newAction)\r\n\r\n      // Set new action with new store\r\n      newAction = { ...newAction, store: { ...newStore } }\r\n    } else {\r\n      // Get new store from dispatch\r\n      const newStore = { ...enhancedDispatch(newAction) }\r\n\r\n      // Set new action with new store\r\n      newAction = { ...newAction, store: { ...newStore } }\r\n    }\r\n\r\n    // If afterWare is available run it\r\n    if (middleware && middleware.afterWare) {\r\n      middleware.afterWare.forEach((afterWare) => {\r\n        afterWare(newAction)\r\n      })\r\n    }\r\n\r\n    // Return new action\r\n    return newAction\r\n  }\r\n\r\n  let actionsDispatch = () => {\r\n    let actionKeys = Object.keys(actions)\r\n    let asyncActionKeys = Object.keys(asyncActions)\r\n    let actionDispatch = {}\r\n    actionKeys.map((a)=> {\r\n      actionDispatch[a] = (payload) => dispatchWithMiddleWare({type: a, payload: payload})\r\n    })\r\n\r\n    asyncActionKeys.map((a)=>{\r\n      actionDispatch[a] = (payload) => dispatchWithMiddleWare({type: a, payload: payload})\r\n    })\r\n\r\n    return actionDispatch\r\n  }\r\n  // Return state as store and dispatch as dispatch middleware\r\n  const value = {\r\n    /**\r\n     * Current state of reducer\r\n     * @type object\r\n     */\r\n    store: state,\r\n    /**\r\n     * @deprecated Use actions instead\r\n     */\r\n    dispatch: dispatchWithMiddleWare,\r\n    /**\r\n     * Dispatch actions for reducer\r\n     * @type object\r\n     */\r\n    actions: actionsDispatch()\r\n  }\r\n\r\n  return value\r\n}\r\n\r\n/**\r\n *\r\n * @param {object[]} values\r\n */\r\nconst MergeReducers = (globalState = []) => {\r\n  // Reduce each state into reducers\r\n  const reducers = globalState.map((state) => {\r\n    return {\r\n      [state.name]: () =>{\r\n        const reducer = Reduce({\r\n          reducer: state.reducer,\r\n          initialState: state.initialState,\r\n          middleware: state.middleware,\r\n          asyncReducer: state.asyncReducer,\r\n          actions: state.actions,\r\n          asyncActions: state.asyncActions\r\n        })\r\n        return reducer\r\n      }\r\n    }\r\n  })\r\n\r\n  // Initialize merged reducers\r\n  const mergedReducers = []\r\n\r\n  // Merge reducers into an array\r\n  reducers.map((r) => {\r\n    Object.keys(r).map((key) => {\r\n      mergedReducers.push(r[key])\r\n    })\r\n  })\r\n\r\n  return reducers\r\n}\r\n\r\n/**\r\n * Creates a reducer\r\n * @param {object} initialState Initial reducer state\r\n * @param {object} actions Key value pair of functions\r\n */\r\nconst createReducer = ({\r\n  initialState = {},\r\n  actions = [],\r\n  middleware = { beforeWare: [], afterWare: [] },\r\n  asyncActions = null\r\n}) => {\r\n  // Reducer\r\n  const reducer = {\r\n    initialState: {\r\n      diffuse: {\r\n        loading: false,\r\n        error: false\r\n      },\r\n      ...initialState\r\n    },\r\n    actionsDict: {\r\n      LOADING: (state) => {\r\n        return {\r\n          diffuse: {\r\n            loading: true,\r\n            error: false\r\n          }\r\n        }\r\n      },\r\n      SUCCESS: (state, payload) => {\r\n        return {\r\n          diffuse: {\r\n            loading: false,\r\n            error: false\r\n          },\r\n          ...payload\r\n        }\r\n      },\r\n      PROGRESS: (state, payload) => {\r\n        return {\r\n          ...payload\r\n        }\r\n      },\r\n      FAIL: (state, payload) => {\r\n        return {\r\n          diffuse: {\r\n            loading: false,\r\n            error: true\r\n          },\r\n          ...payload\r\n        }\r\n      }\r\n    },\r\n    asyncActionsDict: {},\r\n    middleware: middleware,\r\n    // Initialized reducer function\r\n    initialize: (name) => ({\r\n      name: name,\r\n      initialState: { ...reducer.initialState },\r\n      reducer: reducer.reducer,\r\n      middleware: middleware,\r\n      asyncReducer: reducer.asyncReducer,\r\n      actions: reducer.actionsDict,\r\n      asyncActions: reducer.asyncActionsDict\r\n    }),\r\n    reducer: (state, action) => {\r\n      // If action exist in dictionary run the action and return the value\r\n      if (action.type in reducer.actionsDict) {\r\n        const res = reducer.actionsDict[action.type](state, action.payload)\r\n        return {\r\n          ...state,\r\n          ...res\r\n        }\r\n      }\r\n    },\r\n    asyncReducer: async (action, onSuccess, onFail, onProgress, onLoading) => {\r\n      onLoading()\r\n      return {\r\n        ...(await reducer.asyncActionsDict[action.type]({\r\n            state: action.store,\r\n            payload: action.payload\r\n          },\r\n          onSuccess,\r\n          onFail,\r\n          onProgress\r\n        )),\r\n        type: action.type\r\n      }\r\n    },\r\n    addAction: (actionName, action) => {\r\n      // Add regular action\r\n      if (action.type === 'action') {\r\n        reducer.actionsDict[actionName] = action.job\r\n      }\r\n      // Add async action\r\n      else if (action.type === 'async') {\r\n        reducer.asyncActionsDict[actionName] = action.job\r\n      }\r\n    },\r\n    removeAction: (actionName) => {\r\n      // Remove action by name\r\n      if (actionName in reducer.actionsDict) {\r\n        delete reducer.actionsDict[actionName]\r\n      }\r\n    },\r\n    getActions: () => {\r\n      // Init actions array\r\n      const actions = []\r\n\r\n      // For each action push to array\r\n      for (const key in reducer.actionsDict) {\r\n        actions.push(reducer.actionsDict[key])\r\n      }\r\n\r\n      // return actions\r\n      return actions\r\n    }\r\n  }\r\n\r\n  // Add actions to dictionary\r\n  for (const key in actions) {\r\n    reducer.addAction(key, actions[key])\r\n  }\r\n\r\n  return reducer\r\n}\r\n/**\r\n * Diffuse Provider\r\n * @param {object} properties Properties for Diffusion\r\n * @param {Component} properties.children Main App\r\n */\r\nconst Diffuse = ({ reducers, children }) => {\r\n  // Merge reducers from global state\r\n  const mergedReducers = MergeReducers(reducers)\r\n\r\n  // Init Fuse\r\n  const values = {}\r\n\r\n  \r\n\r\n  // Initialize fuses\r\n  for (let i = 0; i < mergedReducers.length; i++) {\r\n    let keys = Object.keys(mergedReducers[i])[0]\r\n    values[keys] = mergedReducers[i][keys]()\r\n  }\r\n\r\n  // Return diffusion provider\r\n  return (\r\n    <DiffuseContext.Provider value={values}>{children}</DiffuseContext.Provider>\r\n  )\r\n}\r\n\r\nexport { wire, createReducer }\r\n\r\nexport default Diffuse\r\n","export default (name) => (action) => {\r\n  console.log(name, action.type, action.store);\r\n};\r\n","import { createReducer } from \"react-diffuse\";\r\nimport logger from \"./middlewares/logger\";\r\n\r\nconst reducer = createReducer({\r\n  initialState: { item: 0 },\r\n  actions: {\r\n    INCREMENT: {\r\n      type: \"action\",\r\n      job: (state, payload) => {\r\n        console.log(payload)\r\n        return {\r\n          item: state.item + 1\r\n        };\r\n      }\r\n    },\r\n    DECREMENT: {\r\n      type: \"action\",\r\n      job: (state) => {\r\n        return {\r\n          item: state.item - 1\r\n        };\r\n      }\r\n    }\r\n  },\r\n  middleware: {\r\n    afterWare: [logger(\"after\")],\r\n    beforeWare: [logger(\"before\")]\r\n  }\r\n});\r\n\r\nexport default reducer;\r\n","import { createReducer } from \"react-diffuse\";\r\nimport logger from \"./middlewares/logger\";\r\nimport axios from \"axios\";\r\n\r\nconst reducer = createReducer({\r\n  initialState: {\r\n    item: 0\r\n  },\r\n  actions: {\r\n    INCREMENT: {\r\n      type: \"action\",\r\n      job: (state, payload) => {\r\n        return {\r\n          item: state.item + 1\r\n        };\r\n      }\r\n    },\r\n    DECREMENT: {\r\n      type: \"action\",\r\n      job: (state) => {\r\n        return {\r\n          item: state.item - 1\r\n        };\r\n      }\r\n    },\r\n    GET_COUNT: {\r\n      type: \"async\",\r\n      job: async ({state, payload}, onSuccess, onFail, onProgress) => {\r\n        try {\r\n          console.log(payload)\r\n          // Replace the url with your own on beeceptor\r\n          let ApiRes = await axios\r\n            .get(\"https://diffusenew.free.beeceptor.com\")\r\n            .then(\r\n              (value) =>\r\n                new Promise((resolve) => {\r\n                  setTimeout(() => {\r\n                    resolve(value);\r\n                  }, 1000);\r\n                })\r\n            );\r\n\r\n          return onSuccess({ item: state.item + 1 });\r\n        } catch (e) {\r\n          onFail({ error: e.message });\r\n        }\r\n      }\r\n    }\r\n  },\r\n  middleware: {\r\n    afterWare: [logger(\"after\")],\r\n    beforeWare: [logger(\"before\")]\r\n  }\r\n});\r\n\r\nexport default reducer;\r\n","export const AReducer = \"AReducer\";\r\nexport const BReducer = \"BReducer\";\r\nexport const AsyncReducer = \"AsyncReducer\";\r\n","/* eslint-disable react/react-in-jsx-scope */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { wire } from \"react-diffuse\";\r\nimport { AReducer } from \"./StateManagement/States\";\r\n\r\nfunction randomColor() {\r\n  const letters = \"0123456789ABCDEF\";\r\n  let color = \"#\";\r\n  for (let i = 0; i < 6; i++) color += letters[Math.floor(Math.random() * 16)];\r\n  return color;\r\n}\r\n\r\nconst Text2 = (props) => {\r\n  const [state, setState] = useState(0);\r\n\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: `${randomColor()}` }}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        let newState = state + 1;\r\n        setState(newState);\r\n      }}\r\n    >\r\n      Text2: {state} Rerender on click from Text\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Text = (props) => {\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: `${randomColor()}` }}\r\n      onClick={() =>\r\n        props.AReducer.dispatch({\r\n          type: \"INCREMENT\"\r\n        })\r\n      }\r\n    >\r\n      Text: {props.AReducer.store.item} Times clicked! Color changes on click\r\n      from Text\r\n      <Text2 />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default wire({ fuseName: [AReducer], Child: Text });\r\n","import React from 'react'\r\nimport { wire } from \"react-diffuse\";\r\nimport { AReducer, BReducer } from \"./StateManagement/States\";\r\nfunction randomColor() {\r\n  const letters = \"0123456789ABCDEF\";\r\n  let color = \"#\";\r\n  for (let i = 0; i < 6; i++) color += letters[Math.floor(Math.random() * 16)];\r\n  return color;\r\n}\r\n\r\nconst Number = (props) => {\r\n  let {BReducer} = props\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: `${randomColor()}` }}\r\n      onClick={() =>\r\n        BReducer.actions.INCREMENT({test: \"PAYLOAD\"})\r\n      }\r\n    >\r\n      Number: {props.BReducer.store.item} Times clicked! Color changes on click\r\n      from Number or Text\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default wire({\r\n  fuseName: [BReducer, AReducer],\r\n  Child: Number\r\n});\r\n","import React from 'react'\r\nimport { wire } from \"react-diffuse\";\r\nimport { AsyncReducer } from \"./StateManagement/States\";\r\n\r\nfunction randomColor() {\r\n  const letters = \"0123456789ABCDEF\";\r\n  let color = \"#\";\r\n  for (let i = 0; i < 6; i++) color += letters[Math.floor(Math.random() * 16)];\r\n  return color;\r\n}\r\n\r\nconst CountAsync = (props) => {\r\n  let {AsyncReducer} = props\r\n  return (\r\n    <div style={{ backgroundColor: `${randomColor()}` }} onClick={() => {\r\n        AsyncReducer.actions.GET_COUNT({\r\n          test: \"SomeText\"\r\n        })\r\n      }\r\n      }\r\n    >\r\n      NumberAsync:{\" \"}\r\n      {props.AsyncReducer.store.diffuse.loading\r\n        ? \"loading\"\r\n        : props.AsyncReducer.store.item}{\" \"}\r\n      Times clicked! Color changes on click from Number or Text\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default wire({\r\n  fuseName: [AsyncReducer],\r\n  Child: CountAsync\r\n});\r\n","import React from 'react'\r\nimport Diffuse from 'react-diffuse'\r\nimport count from './StateManagement/count'\r\nimport asyncCount from './StateManagement/asyncCount'\r\nimport Text from './Text'\r\nimport Number from './Number'\r\nimport CountAsync from './CountAsync'\r\nimport './styles.css'\r\n\r\nconst App = (props) => {\r\n  let Reducer = count.initialize('AReducer')\r\n  console.log(Reducer)\r\n  const reducers = [\r\n    count.initialize('AReducer'),\r\n    count.initialize('BReducer'),\r\n    asyncCount.initialize('AsyncReducer')\r\n  ]\r\n\r\n  return (\r\n    <Diffuse reducers={reducers}>\r\n      <div className=\"App\">\r\n        <h1>DIFFUSE</h1>\r\n        <h2>Global state management solution</h2>\r\n        <h4>Color change = Rerender</h4>\r\n        <Number />\r\n        <Text />\r\n        <CountAsync/>\r\n      </div>\r\n    </Diffuse>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}